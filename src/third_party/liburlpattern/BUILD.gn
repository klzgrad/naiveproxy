# Copyright 2020 The Chromium Authors. All rights reserved.
# Use of this source code is governed by an MIT-style license that can be
# found in the LICENSE file or at https://opensource.org/licenses/MIT.

import("//testing/test.gni")

component("liburlpattern") {
  defines = [ "IS_LIBURLPATTERN_IMPL" ]
  deps = [
    "//base:base",
    "//third_party/abseil-cpp:absl",
  ]

  # Note, also update the local modifications in README.chromium.
  sources = [
    "parse.cc",
    "parse.h",
    "pattern.cc",
    "pattern.h",
    "tokenize.cc",
    "tokenize.h",
    "utils.cc",
    "utils.h",
  ]
}

test("liburlpattern_unittests") {
  deps = [
    ":liburlpattern",
    "//base/test:run_all_unittests",
    "//testing/gtest",
  ]

  # Note, also update the local modifications in README.chromium.
  sources = [
    "parse_unittest.cc",
    "tokenize_unittest.cc",
    "utils_unittest.cc",
  ]
  testonly = true
}
