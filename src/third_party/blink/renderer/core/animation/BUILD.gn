# Copyright 2016 The Chromium Authors. All rights reserved.
# Use of this source code is governed by a BSD-style license that can be
# found in the LICENSE file.

import("//build/buildflag_header.gni")
import("//third_party/blink/renderer/core/core.gni")

declare_args() {
  # Use base::TimeDelta to represent time in renderer/core/animations. See
  # http://crbug.com/737867
  blink_animation_use_time_delta = false
}

buildflag_header("buildflags") {
  header = "buildflags.h"
  header_dir = "third_party/blink/renderer/core/animation"

  flags = [ "BLINK_ANIMATION_USE_TIME_DELTA=$blink_animation_use_time_delta" ]
}

blink_core_sources("animation") {
  sources = [
    "animatable.cc",
    "animatable.h",
    "animation.cc",
    "animation.h",
    "animation_clock.cc",
    "animation_clock.h",
    "animation_effect.cc",
    "animation_effect.h",
    "animation_effect_owner.h",
    "animation_input_helpers.cc",
    "animation_input_helpers.h",
    "animation_time_delta.cc",
    "animation_time_delta.h",
    "animation_timeline.h",
    "basic_shape_interpolation_functions.cc",
    "basic_shape_interpolation_functions.h",
    "color_property_functions.cc",
    "color_property_functions.h",
    "compositor_animations.cc",
    "compositor_animations.h",
    "css/compositor_keyframe_color.h",
    "css/compositor_keyframe_double.h",
    "css/compositor_keyframe_filter_operations.h",
    "css/compositor_keyframe_transform.h",
    "css/compositor_keyframe_value.h",
    "css/compositor_keyframe_value_factory.cc",
    "css/compositor_keyframe_value_factory.h",
    "css/css_animation.cc",
    "css/css_animation.h",
    "css/css_animation_data.cc",
    "css/css_animation_data.h",
    "css/css_animation_update.cc",
    "css/css_animation_update.h",
    "css/css_animations.cc",
    "css/css_animations.h",
    "css/css_timing_data.cc",
    "css/css_timing_data.h",
    "css/css_transition.cc",
    "css/css_transition.h",
    "css/css_transition_data.cc",
    "css/css_transition_data.h",
    "css_angle_interpolation_type.cc",
    "css_angle_interpolation_type.h",
    "css_basic_shape_interpolation_type.cc",
    "css_basic_shape_interpolation_type.h",
    "css_border_image_length_box_interpolation_type.cc",
    "css_border_image_length_box_interpolation_type.h",
    "css_clip_interpolation_type.cc",
    "css_clip_interpolation_type.h",
    "css_color_interpolation_type.cc",
    "css_color_interpolation_type.h",
    "css_custom_length_interpolation_type.cc",
    "css_custom_length_interpolation_type.h",
    "css_custom_list_interpolation_type.cc",
    "css_custom_list_interpolation_type.h",
    "css_default_interpolation_type.cc",
    "css_default_interpolation_type.h",
    "css_filter_list_interpolation_type.cc",
    "css_filter_list_interpolation_type.h",
    "css_font_size_interpolation_type.cc",
    "css_font_size_interpolation_type.h",
    "css_font_variation_settings_interpolation_type.cc",
    "css_font_variation_settings_interpolation_type.h",
    "css_font_weight_interpolation_type.cc",
    "css_font_weight_interpolation_type.h",
    "css_image_interpolation_type.cc",
    "css_image_interpolation_type.h",
    "css_image_list_interpolation_type.cc",
    "css_image_list_interpolation_type.h",
    "css_image_slice_interpolation_type.cc",
    "css_image_slice_interpolation_type.h",
    "css_interpolation_type.cc",
    "css_interpolation_type.h",
    "css_interpolation_types_map.cc",
    "css_interpolation_types_map.h",
    "css_length_interpolation_type.cc",
    "css_length_interpolation_type.h",
    "css_length_list_interpolation_type.cc",
    "css_length_list_interpolation_type.h",
    "css_length_pair_interpolation_type.h",
    "css_number_interpolation_type.cc",
    "css_number_interpolation_type.h",
    "css_offset_rotate_interpolation_type.cc",
    "css_offset_rotate_interpolation_type.h",
    "css_paint_interpolation_type.cc",
    "css_paint_interpolation_type.h",
    "css_path_interpolation_type.cc",
    "css_path_interpolation_type.h",
    "css_percentage_interpolation_type.cc",
    "css_percentage_interpolation_type.h",
    "css_position_axis_list_interpolation_type.cc",
    "css_position_axis_list_interpolation_type.h",
    "css_position_interpolation_type.h",
    "css_ray_interpolation_type.cc",
    "css_ray_interpolation_type.h",
    "css_resolution_interpolation_type.cc",
    "css_resolution_interpolation_type.h",
    "css_rotate_interpolation_type.cc",
    "css_rotate_interpolation_type.h",
    "css_scale_interpolation_type.cc",
    "css_scale_interpolation_type.h",
    "css_shadow_list_interpolation_type.cc",
    "css_shadow_list_interpolation_type.h",
    "css_size_list_interpolation_type.cc",
    "css_size_list_interpolation_type.h",
    "css_text_indent_interpolation_type.cc",
    "css_text_indent_interpolation_type.h",
    "css_time_interpolation_type.cc",
    "css_time_interpolation_type.h",
    "css_transform_interpolation_type.cc",
    "css_transform_interpolation_type.h",
    "css_transform_origin_interpolation_type.h",
    "css_translate_interpolation_type.cc",
    "css_translate_interpolation_type.h",
    "css_var_cycle_interpolation_type.cc",
    "css_var_cycle_interpolation_type.h",
    "css_visibility_interpolation_type.cc",
    "css_visibility_interpolation_type.h",
    "document_animation.h",
    "document_animations.cc",
    "document_animations.h",
    "document_timeline.cc",
    "document_timeline.h",
    "effect_input.cc",
    "effect_input.h",
    "effect_model.cc",
    "effect_model.h",
    "effect_stack.cc",
    "effect_stack.h",
    "element_animations.cc",
    "element_animations.h",
    "image_list_property_functions.h",
    "image_slice_property_functions.h",
    "inert_effect.cc",
    "inert_effect.h",
    "interpolable_filter.cc",
    "interpolable_filter.h",
    "interpolable_length.cc",
    "interpolable_length.h",
    "interpolable_shadow.cc",
    "interpolable_shadow.h",
    "interpolable_transform_list.cc",
    "interpolable_transform_list.h",
    "interpolable_value.cc",
    "interpolable_value.h",
    "interpolated_svg_path_source.h",
    "interpolation.h",
    "interpolation_effect.cc",
    "interpolation_effect.h",
    "interpolation_environment.h",
    "interpolation_type.h",
    "interpolation_types_map.h",
    "interpolation_value.h",
    "invalidatable_interpolation.cc",
    "invalidatable_interpolation.h",
    "keyframe.cc",
    "keyframe.h",
    "keyframe_effect.cc",
    "keyframe_effect.h",
    "keyframe_effect_model.cc",
    "keyframe_effect_model.h",
    "length_list_property_functions.cc",
    "length_list_property_functions.h",
    "length_property_functions.cc",
    "length_property_functions.h",
    "length_units_checker.h",
    "list_interpolation_functions.cc",
    "list_interpolation_functions.h",
    "non_interpolable_value.h",
    "number_property_functions.cc",
    "number_property_functions.h",
    "pairwise_interpolation_value.h",
    "path_interpolation_functions.cc",
    "path_interpolation_functions.h",
    "pending_animations.cc",
    "pending_animations.h",
    "primitive_interpolation.h",
    "property_handle.cc",
    "property_handle.h",
    "sampled_effect.cc",
    "sampled_effect.h",
    "scroll_timeline.cc",
    "scroll_timeline.h",
    "scroll_timeline_util.cc",
    "scroll_timeline_util.h",
    "side_index.h",
    "size_interpolation_functions.cc",
    "size_interpolation_functions.h",
    "size_list_property_functions.cc",
    "size_list_property_functions.h",
    "string_keyframe.cc",
    "string_keyframe.h",
    "svg_angle_interpolation_type.cc",
    "svg_angle_interpolation_type.h",
    "svg_integer_interpolation_type.cc",
    "svg_integer_interpolation_type.h",
    "svg_integer_optional_integer_interpolation_type.cc",
    "svg_integer_optional_integer_interpolation_type.h",
    "svg_interpolation_type.cc",
    "svg_interpolation_type.h",
    "svg_interpolation_types_map.cc",
    "svg_interpolation_types_map.h",
    "svg_length_interpolation_type.cc",
    "svg_length_interpolation_type.h",
    "svg_length_list_interpolation_type.cc",
    "svg_length_list_interpolation_type.h",
    "svg_number_interpolation_type.cc",
    "svg_number_interpolation_type.h",
    "svg_number_list_interpolation_type.cc",
    "svg_number_list_interpolation_type.h",
    "svg_number_optional_number_interpolation_type.cc",
    "svg_number_optional_number_interpolation_type.h",
    "svg_path_interpolation_type.cc",
    "svg_path_interpolation_type.h",
    "svg_path_seg_interpolation_functions.cc",
    "svg_path_seg_interpolation_functions.h",
    "svg_point_list_interpolation_type.cc",
    "svg_point_list_interpolation_type.h",
    "svg_rect_interpolation_type.cc",
    "svg_rect_interpolation_type.h",
    "svg_transform_list_interpolation_type.cc",
    "svg_transform_list_interpolation_type.h",
    "svg_value_interpolation_type.cc",
    "svg_value_interpolation_type.h",
    "timing.cc",
    "timing.h",
    "timing_calculations.h",
    "timing_input.cc",
    "timing_input.h",
    "transition_interpolation.cc",
    "transition_interpolation.h",
    "transition_keyframe.cc",
    "transition_keyframe.h",
    "typed_interpolation_value.h",
    "underlying_length_checker.h",
    "underlying_value.h",
    "underlying_value_owner.cc",
    "underlying_value_owner.h",
    "worklet_animation_base.h",
    "worklet_animation_controller.cc",
    "worklet_animation_controller.h",
  ]

  deps = [
    ":buildflags",
  ]
}

blink_core_tests("unit_tests") {
  sources = [
    "animation_effect_test.cc",
    "animation_input_helpers_test.cc",
    "animation_sim_test.cc",
    "animation_test.cc",
    "animation_test_helper.cc",
    "animation_test_helper.h",
    "animation_time_delta_test.cc",
    "compositor_animations_test.cc",
    "css/css_animations_test.cc",
    "css/css_transition_data_test.cc",
    "document_timeline_test.cc",
    "effect_input_test.cc",
    "effect_stack_test.cc",
    "interpolable_value_test.cc",
    "interpolation_effect_test.cc",
    "keyframe_effect_model_test.cc",
    "keyframe_effect_test.cc",
    "list_interpolation_functions_test.cc",
    "property_handle_test.cc",
    "scroll_timeline_test.cc",
    "scroll_timeline_util_test.cc",
    "svg_number_interpolation_type_test.cc",
    "timing_calculations_test.cc",
    "timing_input_test.cc",
    "timing_test.cc",
  ]
}
