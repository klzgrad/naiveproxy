---------------------------------------------------------------------
-- Chromium Patches. Autogenerated by find_patches.py, do not edit --
---------------------------------------------------------------------


------------------------------------------------------------------
commit 107604940bdc9787bc12fab8cdcc22ca6d53fdbb
Author: Dale Curtis <dalecurtis@chromium.org>
Date:   Wed Oct 31 13:03:37 2018 -0700

    Apply deterministic build patch.

    This removes __DATE__ from a few places to ensure the build is always
    the same. Patch originally authored by davidben at chromium.org

    This is one of the initial commits preparing NASM for use in Chrome.

    BUG=766721

    Change-Id: I4217f9ffed1455b8f244b024dc10dbb8c5c0664d

Affects:
    asm/nasm.c
    disasm/ndisasm.c
    include/ver.h
    nasmlib/ver.c

------------------------------------------------------------------
commit 4ee6a69ce33be1e96fd3c44a6e3ae3d8177453da
Author: Dale Curtis <dalecurtis@chromium.org>
Date:   Mon Nov 19 13:52:05 2018 -0800

    Remove uses of time(NULL) for build determism.

    Removes cases suggested on the bug.

    BUG=766721
    TEST=none

    Change-Id: I88c11d052aef8a9c4e48b3b976ad432f3b008dd6

Affects:
    asm/nasm.c
    output/outcoff.c

------------------------------------------------------------------
commit e62fca4a4a7f10e4f1e0506f2cfdb6c1c4b7cf3a
Author: Reid Kleckner <rnk@google.com>
Date:   Tue Aug 6 15:24:48 2019 -0700

    Fix extern_inline for MSVC and clang-cl

    Prior to this change, no inline function bodies would be provided for
    MSVC. This change fixes that, so nasm will be slightly faster.

    With clang-cl, however, there would be LNK4006 warnings if the compiler
    chooses not to inline the ilog2 functions. The easiest way to observe
    this is with `nmake /f Mkfiles/msvc.mak CC=clang-cl DEBUG=1`. This
    disables inlining, and I see this at the end of the link:
      ilog2.obj : warning LNK4006: ilog2_32 already defined in outmacho.obj; second definition ignored
      ilog2.obj : warning LNK4006: ilog2_64 already defined in eval.obj; second definition ignored
      ilog2.obj : warning LNK4006: alignlog2_32 already defined in outmacho.obj; second definition ignored

    When additional instrumentation (-fprofile-instr-generate) is enabled,
    the warning can become an error, as we discovered in
    https://crbug.com/989745.

    MSVC and compilers pretending to be MSVC (clang-cl) implement inline in
    C with C++ semantics. In C++, inline functions are emitted by the
    compiler whenever they are needed and the linker discards duplicate
    inline function definitions. This change adds a new HAVE_MSVC_INLINE
    macro and adjusts the ifdefs to handle this mode. I chose to keep
    ilog2.c as part of the build, and to have it emit duplicate definitions
    of all the inline functions. An alternative solution would be to exclude
    it from the build, but I felt it was best to solve this in source code
    instead of the build system.

    R=dalecurtis@chromium.org, davidben@chromium.org

    Chromium-specific: I reran find_patches.py with some modifications to
    make it work on Windows.
    Change-Id: I21011ed4f619f920c53f7cfc3afaa32dc2c0ff4e

Affects:
    include/compiler.h
    include/ilog2.h

------------------------------------------------------------------
commit 3dc3d47978ef567966cb21a7b6d617fb688e6029
Author: Byoungchan Lee <daniel.l@hpcnt.com>
Date:   Tue Jul 27 05:09:09 2021 +0900

    Emit the LC_BUILD_VERSION load command when creating a mach object.

    LC_BUILD_VERSION contains the min OS version on which this binary
    was built to run for its platform in mach object. It is required for
    targets like iOS Catalyst.

    Also, emit the __LLVM segment, __asm section to tell the Apple
    toolchain that this object is from assembler and has no bitcode.
    This trick is used in Kotlin/Native, Rust, Flutter, Golang and yasm.

    Bug: 1145197, webrtc:11516
    Change-Id: I6859cc171f80d1aa86d9d7187c2f8ceac7b8c4f3

Affects:
    asm/nasm.c
    output/macho.h
    output/outmacho.c

------------------------------------------------------------------
commit 9215e8e1d0fe474ffd3e16c1a07a0f97089e6224
Author: Nico Weber <thakis@chromium.org>
Date:   Mon Oct 18 15:16:22 2021 -0400

    nasm: Cherry-pick -Wbitwise-instead-of-logical fix

    This cherry-picks https://github.com/netwide-assembler/nasm/pull/17

    Bug: chromium:1255745
    Change-Id: I230b9ab9fd0a8baa1cdc8dd6e62cdc069cb14070

Affects:
    asm/preproc.c

------------------------------------------------------------------
commit bc848980247d61c9fd60ff9560f718ca01d45ea2
Author: Avi Drissman <avi@chromium.org>
Date:   Tue Jan 24 14:59:30 2023 -0500

    Update version requirements for the Mac

    Only require major + minor for the Mac pre macOS 11, otherwise only
    a major version is fine.

    Bug: chromium:1409095
    Change-Id: Iafe0d19d567bd8dcf846b1d9cdcd6b5e324dbb1a

Affects:
    output/outmacho.c

