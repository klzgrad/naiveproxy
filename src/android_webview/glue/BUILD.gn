# Copyright 2015 The Chromium Authors. All rights reserved.
# Use of this source code is governed by a BSD-style license that can be
# found in the LICENSE file.

import("//android_webview/system_webview_apk_tmpl.gni")
import("//android_webview/variables.gni")
import("//build/config/android/config.gni")
import("//build/config/android/rules.gni")

android_library("glue") {
  deps = [
    "//android_webview:android_webview_product_config_java",
    "//android_webview:browser_java",
    "//android_webview:common_java",
    "//android_webview/nonembedded:system_webview_manifest",
    "//android_webview/support_library/boundary_interfaces:boundary_interface_java",
    "//android_webview/support_library/callback:callback_java",
    "//base:base_java",
    "//base:jni_java",
    "//components/autofill/android:autofill_java",
    "//components/autofill/android:provider_java",
    "//components/content_capture/android:java",
    "//components/embedder_support/android:application_java",
    "//content/public/android:content_java",
    "//net/android:net_java",
    "//ui/android:ui_java",
    "//url:gurl_java",
  ]
  annotation_processor_deps = [ "//base/android/jni_generator:jni_processor" ]

  alternative_android_sdk_dep =
      "//third_party/android_sdk:public_framework_system_java"

  sources = [
    "java/src/com/android/webview/chromium/CallbackConverter.java",
    "java/src/com/android/webview/chromium/ContentSettingsAdapter.java",
    "java/src/com/android/webview/chromium/CookieManagerAdapter.java",
    "java/src/com/android/webview/chromium/DrawFunctor.java",
    "java/src/com/android/webview/chromium/DrawGLFunctor.java",
    "java/src/com/android/webview/chromium/GeolocationPermissionsAdapter.java",
    "java/src/com/android/webview/chromium/GlueApiHelperForM.java",
    "java/src/com/android/webview/chromium/GlueApiHelperForN.java",
    "java/src/com/android/webview/chromium/GlueApiHelperForO.java",
    "java/src/com/android/webview/chromium/GlueApiHelperForOMR1.java",
    "java/src/com/android/webview/chromium/GlueApiHelperForP.java",
    "java/src/com/android/webview/chromium/GlueApiHelperForQ.java",
    "java/src/com/android/webview/chromium/GraphicsUtils.java",
    "java/src/com/android/webview/chromium/MonochromeLibraryPreloader.java",
    "java/src/com/android/webview/chromium/SafeBrowsingResponseAdapter.java",
    "java/src/com/android/webview/chromium/ServiceWorkerClientAdapter.java",
    "java/src/com/android/webview/chromium/ServiceWorkerControllerAdapter.java",
    "java/src/com/android/webview/chromium/ServiceWorkerSettingsAdapter.java",
    "java/src/com/android/webview/chromium/SharedStatics.java",
    "java/src/com/android/webview/chromium/SharedTracingControllerAdapter.java",
    "java/src/com/android/webview/chromium/SharedWebViewChromium.java",
    "java/src/com/android/webview/chromium/SharedWebViewContentsClientAdapter.java",
    "java/src/com/android/webview/chromium/SharedWebViewRendererClientAdapter.java",
    "java/src/com/android/webview/chromium/SplitApkWorkaround.java",
    "java/src/com/android/webview/chromium/TracingControllerAdapter.java",
    "java/src/com/android/webview/chromium/WebBackForwardListChromium.java",
    "java/src/com/android/webview/chromium/WebHistoryItemChromium.java",
    "java/src/com/android/webview/chromium/WebIconDatabaseAdapter.java",
    "java/src/com/android/webview/chromium/WebMessagePortAdapter.java",
    "java/src/com/android/webview/chromium/WebResourceErrorAdapter.java",
    "java/src/com/android/webview/chromium/WebResourceRequestAdapter.java",
    "java/src/com/android/webview/chromium/WebStorageAdapter.java",
    "java/src/com/android/webview/chromium/WebViewChromium.java",
    "java/src/com/android/webview/chromium/WebViewChromiumAwInit.java",
    "java/src/com/android/webview/chromium/WebViewChromiumFactoryProvider.java",
    "java/src/com/android/webview/chromium/WebViewChromiumFactoryProviderForO.java",
    "java/src/com/android/webview/chromium/WebViewChromiumFactoryProviderForOMR1.java",
    "java/src/com/android/webview/chromium/WebViewChromiumFactoryProviderForP.java",
    "java/src/com/android/webview/chromium/WebViewChromiumFactoryProviderForQ.java",
    "java/src/com/android/webview/chromium/WebViewContentsClientAdapter.java",
    "java/src/com/android/webview/chromium/WebViewDatabaseAdapter.java",
    "java/src/com/android/webview/chromium/WebViewDelegateFactory.java",
    "java/src/com/android/webview/chromium/WebViewRenderProcessAdapter.java",
    "java/src/com/android/webview/chromium/WebViewRenderProcessClientAdapter.java",
    "java/src/com/android/webview/chromium/WebkitToSharedGlueConverter.java",
  ]

  android_manifest_for_lint = system_webview_android_manifest
  min_sdk_version = 21
}
