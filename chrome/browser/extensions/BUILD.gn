# Copyright 2014 The Chromium Authors. All rights reserved.
# Use of this source code is governed by a BSD-style license that can be
# found in the LICENSE file.

import("//build/config/features.gni")
import("//build/config/ui.gni")
import("//chrome/common/features.gni")
import("//components/nacl/features.gni")
import("//extensions/features/features.gni")
import("//media/media_options.gni")
import("//mojo/public/tools/bindings/mojom.gni")
import("//rlz/features/features.gni")

assert(enable_extensions)

static_library("extensions") {
  sources = [
    # TODO These references to files in //chrome/browser/ should either be
    # moved to the browser target or the files moved to this directory.
    "../ui/app_icon_loader.cc",
    "../ui/app_icon_loader.h",
    "../ui/toolbar/toolbar_actions_model.cc",
    "../ui/toolbar/toolbar_actions_model.h",
    "../ui/toolbar/toolbar_actions_model_factory.cc",
    "../ui/toolbar/toolbar_actions_model_factory.h",
    "../web_applications/web_app.cc",
    "../web_applications/web_app.h",
    "../web_applications/web_app_chromeos.cc",
    "../web_applications/web_app_mac.h",
    "../web_applications/web_app_mac.mm",
    "../web_applications/web_app_win.cc",
    "../web_applications/web_app_win.h",
    "active_install_data.cc",
    "active_install_data.h",
    "active_tab_permission_granter.cc",
    "active_tab_permission_granter.h",
    "activity_log/activity_action_constants.cc",
    "activity_log/activity_action_constants.h",
    "activity_log/activity_actions.cc",
    "activity_log/activity_actions.h",
    "activity_log/activity_database.cc",
    "activity_log/activity_database.h",
    "activity_log/activity_log.cc",
    "activity_log/activity_log.h",
    "activity_log/activity_log_policy.cc",
    "activity_log/activity_log_policy.h",
    "activity_log/activity_log_task_runner.cc",
    "activity_log/activity_log_task_runner.h",
    "activity_log/counting_policy.cc",
    "activity_log/counting_policy.h",
    "activity_log/database_string_table.cc",
    "activity_log/database_string_table.h",
    "activity_log/fullstream_ui_policy.cc",
    "activity_log/fullstream_ui_policy.h",
    "api/activity_log_private/activity_log_private_api.cc",
    "api/activity_log_private/activity_log_private_api.h",
    "api/autofill_private/autofill_private_api.cc",
    "api/autofill_private/autofill_private_api.h",
    "api/autofill_private/autofill_private_event_router.cc",
    "api/autofill_private/autofill_private_event_router.h",
    "api/autofill_private/autofill_private_event_router_factory.cc",
    "api/autofill_private/autofill_private_event_router_factory.h",
    "api/autofill_private/autofill_util.cc",
    "api/autofill_private/autofill_util.h",
    "api/automation_internal/automation_event_router.cc",
    "api/automation_internal/automation_event_router.h",
    "api/automation_internal/automation_internal_api.cc",
    "api/automation_internal/automation_internal_api.h",
    "api/autotest_private/autotest_private_api.cc",
    "api/autotest_private/autotest_private_api.h",
    "api/bookmark_manager_private/bookmark_manager_private_api.cc",
    "api/bookmark_manager_private/bookmark_manager_private_api.h",
    "api/bookmarks/bookmark_api_constants.cc",
    "api/bookmarks/bookmark_api_constants.h",
    "api/bookmarks/bookmark_api_helpers.cc",
    "api/bookmarks/bookmark_api_helpers.h",
    "api/bookmarks/bookmarks_api.cc",
    "api/bookmarks/bookmarks_api.h",
    "api/braille_display_private/braille_controller.h",
    "api/braille_display_private/braille_controller_brlapi.h",
    "api/braille_display_private/braille_display_private_api.cc",
    "api/braille_display_private/braille_display_private_api.h",
    "api/braille_display_private/stub_braille_controller.cc",
    "api/braille_display_private/stub_braille_controller.h",
    "api/browser/browser_api.cc",
    "api/browser/browser_api.h",
    "api/browsing_data/browsing_data_api.cc",
    "api/browsing_data/browsing_data_api.h",
    "api/chrome_device_permissions_prompt.h",
    "api/chrome_extensions_api_client.cc",
    "api/chrome_extensions_api_client.h",
    "api/cloud_print_private/cloud_print_private_api.cc",
    "api/cloud_print_private/cloud_print_private_api.h",
    "api/command_line_private/command_line_private_api.cc",
    "api/command_line_private/command_line_private_api.h",
    "api/commands/command_service.cc",
    "api/commands/command_service.h",
    "api/commands/commands.cc",
    "api/commands/commands.h",
    "api/content_settings/content_settings_api.cc",
    "api/content_settings/content_settings_api.h",
    "api/content_settings/content_settings_api_constants.cc",
    "api/content_settings/content_settings_api_constants.h",
    "api/content_settings/content_settings_custom_extension_provider.cc",
    "api/content_settings/content_settings_custom_extension_provider.h",
    "api/content_settings/content_settings_helpers.cc",
    "api/content_settings/content_settings_helpers.h",
    "api/content_settings/content_settings_service.cc",
    "api/content_settings/content_settings_service.h",
    "api/content_settings/content_settings_store.cc",
    "api/content_settings/content_settings_store.h",
    "api/context_menus/context_menus_api.cc",
    "api/context_menus/context_menus_api.h",
    "api/context_menus/context_menus_api_helpers.cc",
    "api/context_menus/context_menus_api_helpers.h",
    "api/cookies/cookies_api.cc",
    "api/cookies/cookies_api.h",
    "api/cookies/cookies_api_constants.cc",
    "api/cookies/cookies_api_constants.h",
    "api/cookies/cookies_helpers.cc",
    "api/cookies/cookies_helpers.h",
    "api/cryptotoken_private/cryptotoken_private_api.cc",
    "api/cryptotoken_private/cryptotoken_private_api.h",
    "api/dashboard_private/dashboard_private_api.cc",
    "api/dashboard_private/dashboard_private_api.h",
    "api/data_reduction_proxy/data_reduction_proxy_api.cc",
    "api/data_reduction_proxy/data_reduction_proxy_api.h",
    "api/debugger/debugger_api.cc",
    "api/debugger/debugger_api.h",
    "api/debugger/debugger_api_constants.cc",
    "api/debugger/debugger_api_constants.h",
    "api/declarative_content/chrome_content_rules_registry.cc",
    "api/declarative_content/chrome_content_rules_registry.h",
    "api/declarative_content/content_action.cc",
    "api/declarative_content/content_action.h",
    "api/declarative_content/content_condition.cc",
    "api/declarative_content/content_condition.h",
    "api/declarative_content/content_predicate.cc",
    "api/declarative_content/content_predicate.h",
    "api/declarative_content/content_predicate_evaluator.cc",
    "api/declarative_content/content_predicate_evaluator.h",
    "api/declarative_content/declarative_content_css_condition_tracker.cc",
    "api/declarative_content/declarative_content_css_condition_tracker.h",
    "api/declarative_content/declarative_content_is_bookmarked_condition_tracker.cc",
    "api/declarative_content/declarative_content_is_bookmarked_condition_tracker.h",
    "api/declarative_content/declarative_content_page_url_condition_tracker.cc",
    "api/declarative_content/declarative_content_page_url_condition_tracker.h",
    "api/declarative_content/default_content_predicate_evaluators.cc",
    "api/declarative_content/default_content_predicate_evaluators.h",
    "api/desktop_capture/desktop_capture_api.cc",
    "api/desktop_capture/desktop_capture_api.h",
    "api/desktop_capture/desktop_capture_base.cc",
    "api/desktop_capture/desktop_capture_base.h",
    "api/developer_private/developer_private_api.cc",
    "api/developer_private/developer_private_api.h",
    "api/developer_private/developer_private_mangle.cc",
    "api/developer_private/developer_private_mangle.h",
    "api/developer_private/entry_picker.cc",
    "api/developer_private/entry_picker.h",
    "api/developer_private/extension_info_generator.cc",
    "api/developer_private/extension_info_generator.h",
    "api/developer_private/inspectable_views_finder.cc",
    "api/developer_private/inspectable_views_finder.h",
    "api/developer_private/show_permissions_dialog_helper.cc",
    "api/developer_private/show_permissions_dialog_helper.h",
    "api/dial/dial_api.cc",
    "api/dial/dial_api.h",
    "api/dial/dial_api_factory.cc",
    "api/dial/dial_api_factory.h",
    "api/downloads/downloads_api.cc",
    "api/downloads/downloads_api.h",
    "api/downloads_internal/downloads_internal_api.cc",
    "api/downloads_internal/downloads_internal_api.h",
    "api/easy_unlock_private/easy_unlock_private_api.cc",
    "api/easy_unlock_private/easy_unlock_private_api.h",
    "api/easy_unlock_private/easy_unlock_private_connection.cc",
    "api/easy_unlock_private/easy_unlock_private_connection.h",
    "api/easy_unlock_private/easy_unlock_private_connection_manager.cc",
    "api/easy_unlock_private/easy_unlock_private_connection_manager.h",
    "api/easy_unlock_private/easy_unlock_private_crypto_delegate.h",
    "api/easy_unlock_private/easy_unlock_private_crypto_delegate_chromeos.cc",
    "api/experience_sampling_private/experience_sampling.cc",
    "api/experience_sampling_private/experience_sampling.h",
    "api/experience_sampling_private/experience_sampling_private_api.cc",
    "api/experience_sampling_private/experience_sampling_private_api.h",
    "api/extension_action/extension_action_api.cc",
    "api/extension_action/extension_action_api.h",
    "api/extension_action/extension_page_actions_api_constants.cc",
    "api/extension_action/extension_page_actions_api_constants.h",
    "api/feedback_private/chrome_feedback_private_delegate.cc",
    "api/feedback_private/chrome_feedback_private_delegate.h",
    "api/file_handlers/non_native_file_system_delegate_chromeos.cc",
    "api/file_handlers/non_native_file_system_delegate_chromeos.h",
    "api/file_system/chrome_file_system_delegate.cc",
    "api/file_system/chrome_file_system_delegate.h",
    "api/file_system/file_entry_picker.cc",
    "api/file_system/file_entry_picker.h",
    "api/font_settings/font_settings_api.cc",
    "api/font_settings/font_settings_api.h",
    "api/gcm/gcm_api.cc",
    "api/gcm/gcm_api.h",
    "api/history/history_api.cc",
    "api/history/history_api.h",
    "api/hotword_private/hotword_private_api.cc",
    "api/hotword_private/hotword_private_api.h",
    "api/i18n/i18n_api.cc",
    "api/i18n/i18n_api.h",
    "api/identity/extension_token_key.cc",
    "api/identity/extension_token_key.h",
    "api/identity/gaia_web_auth_flow.cc",
    "api/identity/gaia_web_auth_flow.h",
    "api/identity/identity_api.cc",
    "api/identity/identity_api.h",
    "api/identity/identity_constants.cc",
    "api/identity/identity_constants.h",
    "api/identity/identity_get_accounts_function.cc",
    "api/identity/identity_get_accounts_function.h",
    "api/identity/identity_get_auth_token_function.cc",
    "api/identity/identity_get_auth_token_function.h",
    "api/identity/identity_get_profile_user_info_function.cc",
    "api/identity/identity_get_profile_user_info_function.h",
    "api/identity/identity_launch_web_auth_flow_function.cc",
    "api/identity/identity_launch_web_auth_flow_function.h",
    "api/identity/identity_mint_queue.cc",
    "api/identity/identity_mint_queue.h",
    "api/identity/identity_remove_cached_auth_token_function.cc",
    "api/identity/identity_remove_cached_auth_token_function.h",
    "api/identity/web_auth_flow.cc",
    "api/identity/web_auth_flow.h",
    "api/idltest/idltest_api.cc",
    "api/idltest/idltest_api.h",
    "api/image_writer_private/destroy_partitions_operation.cc",
    "api/image_writer_private/destroy_partitions_operation.h",
    "api/image_writer_private/error_messages.cc",
    "api/image_writer_private/error_messages.h",
    "api/image_writer_private/image_writer_private_api.cc",
    "api/image_writer_private/image_writer_private_api.h",
    "api/image_writer_private/image_writer_utility_client.cc",
    "api/image_writer_private/image_writer_utility_client.h",
    "api/image_writer_private/operation.cc",
    "api/image_writer_private/operation.h",
    "api/image_writer_private/operation_chromeos.cc",
    "api/image_writer_private/operation_manager.cc",
    "api/image_writer_private/operation_manager.h",
    "api/image_writer_private/removable_storage_provider.cc",
    "api/image_writer_private/removable_storage_provider.h",
    "api/image_writer_private/removable_storage_provider_chromeos.cc",
    "api/image_writer_private/removable_storage_provider_mac.cc",
    "api/image_writer_private/removable_storage_provider_win.cc",
    "api/image_writer_private/unzip_helper.cc",
    "api/image_writer_private/unzip_helper.h",
    "api/image_writer_private/write_from_file_operation.cc",
    "api/image_writer_private/write_from_file_operation.h",
    "api/image_writer_private/write_from_url_operation.cc",
    "api/image_writer_private/write_from_url_operation.h",
    "api/inline_install_private/inline_install_private_api.cc",
    "api/inline_install_private/inline_install_private_api.h",
    "api/instance_id/instance_id_api.cc",
    "api/instance_id/instance_id_api.h",
    "api/language_settings_private/language_settings_private_api.cc",
    "api/language_settings_private/language_settings_private_api.h",
    "api/language_settings_private/language_settings_private_delegate.cc",
    "api/language_settings_private/language_settings_private_delegate.h",
    "api/language_settings_private/language_settings_private_delegate_factory.cc",
    "api/language_settings_private/language_settings_private_delegate_factory.h",
    "api/management/chrome_management_api_delegate.cc",
    "api/management/chrome_management_api_delegate.h",
    "api/media_galleries/media_galleries_api.cc",
    "api/media_galleries/media_galleries_api.h",
    "api/messaging/chrome_messaging_delegate.cc",
    "api/messaging/chrome_messaging_delegate.h",
    "api/messaging/incognito_connectability.cc",
    "api/messaging/incognito_connectability.h",
    "api/messaging/native_message_port.cc",
    "api/messaging/native_message_port.h",
    "api/messaging/native_messaging_host_manifest.cc",
    "api/messaging/native_messaging_host_manifest.h",
    "api/messaging/native_messaging_policy_handler.cc",
    "api/messaging/native_messaging_policy_handler.h",
    "api/metrics_private/chrome_metrics_private_delegate.cc",
    "api/metrics_private/chrome_metrics_private_delegate.h",
    "api/module/module.cc",
    "api/module/module.h",
    "api/music_manager_private/device_id.cc",
    "api/music_manager_private/device_id.h",
    "api/music_manager_private/device_id_chromeos.cc",
    "api/music_manager_private/device_id_linux.cc",
    "api/music_manager_private/device_id_mac.cc",
    "api/music_manager_private/device_id_win.cc",
    "api/music_manager_private/music_manager_private_api.cc",
    "api/music_manager_private/music_manager_private_api.h",
    "api/networking_private/networking_private_credentials_getter_chromeos.cc",
    "api/networking_private/networking_private_ui_delegate_chromeos.cc",
    "api/networking_private/networking_private_ui_delegate_chromeos.h",
    "api/networking_private/networking_private_ui_delegate_factory_impl.cc",
    "api/networking_private/networking_private_ui_delegate_factory_impl.h",
    "api/notifications/extension_notification_display_helper.cc",
    "api/notifications/extension_notification_display_helper.h",
    "api/notifications/extension_notification_display_helper_factory.cc",
    "api/notifications/extension_notification_display_helper_factory.h",
    "api/notifications/extension_notification_handler.cc",
    "api/notifications/extension_notification_handler.h",
    "api/notifications/notifications_api.cc",
    "api/notifications/notifications_api.h",
    "api/omnibox/omnibox_api.cc",
    "api/omnibox/omnibox_api.h",
    "api/page_capture/page_capture_api.cc",
    "api/page_capture/page_capture_api.h",
    "api/passwords_private/passwords_private_api.cc",
    "api/passwords_private/passwords_private_api.h",
    "api/passwords_private/passwords_private_delegate.h",
    "api/passwords_private/passwords_private_delegate_factory.cc",
    "api/passwords_private/passwords_private_delegate_factory.h",
    "api/passwords_private/passwords_private_delegate_impl.cc",
    "api/passwords_private/passwords_private_delegate_impl.h",
    "api/passwords_private/passwords_private_event_router.cc",
    "api/passwords_private/passwords_private_event_router.h",
    "api/passwords_private/passwords_private_event_router_factory.cc",
    "api/passwords_private/passwords_private_event_router_factory.h",
    "api/passwords_private/passwords_private_utils.cc",
    "api/passwords_private/passwords_private_utils.h",
    "api/permissions/permissions_api.cc",
    "api/permissions/permissions_api.h",
    "api/permissions/permissions_api_helpers.cc",
    "api/permissions/permissions_api_helpers.h",
    "api/preference/preference_api.cc",
    "api/preference/preference_api.h",
    "api/preference/preference_api_constants.cc",
    "api/preference/preference_api_constants.h",
    "api/preference/preference_helpers.cc",
    "api/preference/preference_helpers.h",
    "api/proxy/proxy_api.cc",
    "api/proxy/proxy_api.h",
    "api/proxy/proxy_api_constants.cc",
    "api/proxy/proxy_api_constants.h",
    "api/proxy/proxy_api_helpers.cc",
    "api/proxy/proxy_api_helpers.h",
    "api/resources_private/resources_private_api.cc",
    "api/resources_private/resources_private_api.h",
    "api/runtime/chrome_runtime_api_delegate.cc",
    "api/runtime/chrome_runtime_api_delegate.h",
    "api/screenlock_private/screenlock_private_api.cc",
    "api/screenlock_private/screenlock_private_api.h",
    "api/sessions/session_id.cc",
    "api/sessions/session_id.h",
    "api/sessions/sessions_api.cc",
    "api/sessions/sessions_api.h",
    "api/settings_overrides/settings_overrides_api.cc",
    "api/settings_overrides/settings_overrides_api.h",
    "api/settings_private/prefs_util.cc",
    "api/settings_private/prefs_util.h",
    "api/settings_private/settings_private_api.cc",
    "api/settings_private/settings_private_api.h",
    "api/settings_private/settings_private_delegate.cc",
    "api/settings_private/settings_private_delegate.h",
    "api/settings_private/settings_private_delegate_factory.cc",
    "api/settings_private/settings_private_delegate_factory.h",
    "api/settings_private/settings_private_event_router.cc",
    "api/settings_private/settings_private_event_router.h",
    "api/settings_private/settings_private_event_router_factory.cc",
    "api/settings_private/settings_private_event_router_factory.h",
    "api/signed_in_devices/id_mapping_helper.cc",
    "api/signed_in_devices/id_mapping_helper.h",
    "api/signed_in_devices/signed_in_devices_api.cc",
    "api/signed_in_devices/signed_in_devices_api.h",
    "api/signed_in_devices/signed_in_devices_manager.cc",
    "api/signed_in_devices/signed_in_devices_manager.h",
    "api/spellcheck/spellcheck_api.cc",
    "api/spellcheck/spellcheck_api.h",
    "api/storage/managed_value_store_cache.cc",
    "api/storage/managed_value_store_cache.h",
    "api/storage/policy_value_store.cc",
    "api/storage/policy_value_store.h",
    "api/storage/setting_sync_data.cc",
    "api/storage/setting_sync_data.h",
    "api/storage/settings_sync_processor.cc",
    "api/storage/settings_sync_processor.h",
    "api/storage/settings_sync_util.cc",
    "api/storage/settings_sync_util.h",
    "api/storage/sync_storage_backend.cc",
    "api/storage/sync_storage_backend.h",
    "api/storage/sync_value_store_cache.cc",
    "api/storage/sync_value_store_cache.h",
    "api/storage/syncable_settings_storage.cc",
    "api/storage/syncable_settings_storage.h",
    "api/streams_private/streams_private_api.cc",
    "api/streams_private/streams_private_api.h",
    "api/sync_file_system/extension_sync_event_observer.cc",
    "api/sync_file_system/extension_sync_event_observer.h",
    "api/sync_file_system/sync_file_system_api.cc",
    "api/sync_file_system/sync_file_system_api.h",
    "api/sync_file_system/sync_file_system_api_helpers.cc",
    "api/sync_file_system/sync_file_system_api_helpers.h",
    "api/system_indicator/system_indicator_api.h",
    "api/system_indicator/system_indicator_manager.cc",
    "api/system_indicator/system_indicator_manager.h",
    "api/system_indicator/system_indicator_manager_factory.cc",
    "api/system_indicator/system_indicator_manager_factory.h",
    "api/system_private/system_private_api.cc",
    "api/system_private/system_private_api.h",
    "api/tab_capture/offscreen_tab.cc",
    "api/tab_capture/offscreen_tab.h",
    "api/tab_capture/tab_capture_api.cc",
    "api/tab_capture/tab_capture_api.h",
    "api/tab_capture/tab_capture_registry.cc",
    "api/tab_capture/tab_capture_registry.h",
    "api/tabs/app_base_window.cc",
    "api/tabs/app_base_window.h",
    "api/tabs/app_window_controller.cc",
    "api/tabs/app_window_controller.h",
    "api/tabs/tabs_api.cc",
    "api/tabs/tabs_api.h",
    "api/tabs/tabs_constants.cc",
    "api/tabs/tabs_constants.h",
    "api/tabs/tabs_event_router.cc",
    "api/tabs/tabs_event_router.h",
    "api/tabs/tabs_windows_api.cc",
    "api/tabs/tabs_windows_api.h",
    "api/tabs/windows_event_router.cc",
    "api/tabs/windows_event_router.h",
    "api/tabs/windows_util.cc",
    "api/tabs/windows_util.h",
    "api/top_sites/top_sites_api.cc",
    "api/top_sites/top_sites_api.h",
    "api/web_navigation/frame_navigation_state.cc",
    "api/web_navigation/frame_navigation_state.h",
    "api/web_navigation/web_navigation_api.cc",
    "api/web_navigation/web_navigation_api.h",
    "api/web_navigation/web_navigation_api_constants.cc",
    "api/web_navigation/web_navigation_api_constants.h",
    "api/web_navigation/web_navigation_api_helpers.cc",
    "api/web_navigation/web_navigation_api_helpers.h",
    "api/web_request/chrome_extension_web_request_event_router_delegate.cc",
    "api/web_request/chrome_extension_web_request_event_router_delegate.h",
    "api/web_view/chrome_web_view_internal_api.cc",
    "api/web_view/chrome_web_view_internal_api.h",
    "api/webrtc_audio_private/webrtc_audio_private_api.cc",
    "api/webrtc_audio_private/webrtc_audio_private_api.h",
    "api/webrtc_desktop_capture_private/webrtc_desktop_capture_private_api.cc",
    "api/webrtc_desktop_capture_private/webrtc_desktop_capture_private_api.h",
    "api/webrtc_logging_private/webrtc_logging_private_api.h",
    "api/webstore_private/webstore_private_api.cc",
    "api/webstore_private/webstore_private_api.h",
    "app_data_migrator.cc",
    "app_data_migrator.h",
    "blacklist.cc",
    "blacklist.h",
    "blacklist_check.cc",
    "blacklist_check.h",
    "blacklist_factory.cc",
    "blacklist_factory.h",
    "blacklist_state_fetcher.cc",
    "blacklist_state_fetcher.h",
    "bookmark_app_helper.cc",
    "bookmark_app_helper.h",
    "bookmark_app_navigation_throttle.cc",
    "bookmark_app_navigation_throttle.h",
    "browser_action_test_util.h",
    "browser_context_keyed_service_factories.cc",
    "browser_context_keyed_service_factories.h",
    "browser_extension_window_controller.cc",
    "browser_extension_window_controller.h",
    "chrome_app_icon.cc",
    "chrome_app_icon.h",
    "chrome_app_icon_delegate.h",
    "chrome_app_icon_loader.cc",
    "chrome_app_icon_loader.h",
    "chrome_app_icon_service.cc",
    "chrome_app_icon_service.h",
    "chrome_app_icon_service_factory.cc",
    "chrome_app_icon_service_factory.h",
    "chrome_app_sorting.cc",
    "chrome_app_sorting.h",
    "chrome_component_extension_resource_manager.cc",
    "chrome_component_extension_resource_manager.h",
    "chrome_content_browser_client_extensions_part.cc",
    "chrome_content_browser_client_extensions_part.h",
    "chrome_content_verifier_delegate.cc",
    "chrome_content_verifier_delegate.h",
    "chrome_extension_api_frame_id_map_helper.cc",
    "chrome_extension_api_frame_id_map_helper.h",
    "chrome_extension_chooser_dialog.h",
    "chrome_extension_function.cc",
    "chrome_extension_function.h",
    "chrome_extension_function_details.cc",
    "chrome_extension_function_details.h",
    "chrome_extension_host_delegate.cc",
    "chrome_extension_host_delegate.h",
    "chrome_extension_web_contents_observer.cc",
    "chrome_extension_web_contents_observer.h",
    "chrome_extensions_browser_client.cc",
    "chrome_extensions_browser_client.h",
    "chrome_extensions_interface_registration.cc",
    "chrome_extensions_interface_registration.h",
    "chrome_kiosk_delegate.h",
    "chrome_kiosk_delegate_chromeos.cc",
    "chrome_process_manager_delegate.cc",
    "chrome_process_manager_delegate.h",
    "chrome_url_request_util.cc",
    "chrome_url_request_util.h",
    "clipboard_extension_helper_chromeos.cc",
    "clipboard_extension_helper_chromeos.h",
    "component_extensions_whitelist/whitelist.cc",
    "component_extensions_whitelist/whitelist.h",
    "component_loader.cc",
    "component_loader.h",
    "context_menu_matcher.cc",
    "context_menu_matcher.h",
    "convert_user_script.cc",
    "convert_user_script.h",
    "convert_web_app.cc",
    "convert_web_app.h",
    "crx_installer.cc",
    "crx_installer.h",
    "data_deleter.cc",
    "data_deleter.h",
    "dev_mode_bubble_delegate.cc",
    "dev_mode_bubble_delegate.h",
    "device_permissions_dialog_controller.cc",
    "device_permissions_dialog_controller.h",
    "devtools_util.cc",
    "devtools_util.h",
    "display_info_provider_chromeos.cc",
    "display_info_provider_chromeos.h",
    "display_info_provider_mac.cc",
    "display_info_provider_mac.h",
    "display_info_provider_win.cc",
    "display_info_provider_win.h",
    "error_console/error_console.cc",
    "error_console/error_console.h",
    "error_console/error_console_factory.cc",
    "error_console/error_console_factory.h",
    "event_router_forwarder.cc",
    "event_router_forwarder.h",
    "extension_action.cc",
    "extension_action.h",
    "extension_action_icon_factory.cc",
    "extension_action_icon_factory.h",
    "extension_action_manager.cc",
    "extension_action_manager.h",
    "extension_action_runner.cc",
    "extension_action_runner.h",
    "extension_action_storage_manager.cc",
    "extension_action_storage_manager.h",
    "extension_assets_manager.cc",
    "extension_assets_manager.h",
    "extension_assets_manager_chromeos.cc",
    "extension_assets_manager_chromeos.h",
    "extension_commands_global_registry.cc",
    "extension_commands_global_registry.h",
    "extension_context_menu_model.cc",
    "extension_context_menu_model.h",
    "extension_cookie_notifier.cc",
    "extension_cookie_notifier.h",
    "extension_creator.cc",
    "extension_creator.h",
    "extension_creator_filter.cc",
    "extension_creator_filter.h",
    "extension_disabled_ui.cc",
    "extension_disabled_ui.h",
    "extension_error_controller.cc",
    "extension_error_controller.h",
    "extension_error_reporter.cc",
    "extension_error_reporter.h",
    "extension_error_ui.cc",
    "extension_error_ui.h",
    "extension_error_ui_default.cc",
    "extension_error_ui_default.h",
    "extension_garbage_collector.cc",
    "extension_garbage_collector.h",
    "extension_garbage_collector_chromeos.cc",
    "extension_garbage_collector_chromeos.h",
    "extension_garbage_collector_factory.cc",
    "extension_garbage_collector_factory.h",
    "extension_gcm_app_handler.cc",
    "extension_gcm_app_handler.h",
    "extension_icon_manager.cc",
    "extension_icon_manager.h",
    "extension_install_error_menu_item_id_provider.cc",
    "extension_install_error_menu_item_id_provider.h",
    "extension_install_prompt.cc",
    "extension_install_prompt.h",
    "extension_install_prompt_show_params.cc",
    "extension_install_prompt_show_params.h",
    "extension_keybinding_registry.cc",
    "extension_keybinding_registry.h",
    "extension_management.cc",
    "extension_management.h",
    "extension_management_constants.cc",
    "extension_management_constants.h",
    "extension_management_internal.cc",
    "extension_management_internal.h",
    "extension_message_bubble_controller.cc",
    "extension_message_bubble_controller.h",
    "extension_migrator.cc",
    "extension_migrator.h",
    "extension_reenabler.cc",
    "extension_reenabler.h",
    "extension_service.cc",
    "extension_service.h",
    "extension_special_storage_policy.cc",
    "extension_special_storage_policy.h",
    "extension_storage_monitor.cc",
    "extension_storage_monitor.h",
    "extension_storage_monitor_factory.cc",
    "extension_storage_monitor_factory.h",
    "extension_sync_data.cc",
    "extension_sync_data.h",
    "extension_sync_service.cc",
    "extension_sync_service.h",
    "extension_sync_service_factory.cc",
    "extension_sync_service_factory.h",
    "extension_system_factory.cc",
    "extension_system_factory.h",
    "extension_system_impl.cc",
    "extension_system_impl.h",
    "extension_tab_util.cc",
    "extension_tab_util.h",
    "extension_ui_util.cc",
    "extension_ui_util.h",
    "extension_uninstall_dialog.cc",
    "extension_uninstall_dialog.h",
    "extension_util.cc",
    "extension_util.h",
    "extension_view.h",
    "extension_view_host.cc",
    "extension_view_host.h",
    "extension_view_host_factory.cc",
    "extension_view_host_factory.h",
    "extension_web_ui.cc",
    "extension_web_ui.h",
    "extension_web_ui_override_registrar.cc",
    "extension_web_ui_override_registrar.h",
    "extension_webkit_preferences.cc",
    "extension_webkit_preferences.h",
    "external_component_loader.cc",
    "external_component_loader.h",
    "external_install_error.cc",
    "external_install_error.h",
    "external_install_manager.cc",
    "external_install_manager.h",
    "external_loader.cc",
    "external_loader.h",
    "external_policy_loader.cc",
    "external_policy_loader.h",
    "external_pref_loader.cc",
    "external_pref_loader.h",
    "external_provider_impl.cc",
    "external_provider_impl.h",
    "external_registry_loader_win.cc",
    "external_registry_loader_win.h",
    "favicon_downloader.cc",
    "favicon_downloader.h",
    "global_shortcut_listener.cc",
    "global_shortcut_listener.h",
    "global_shortcut_listener_mac.h",
    "global_shortcut_listener_mac.mm",
    "global_shortcut_listener_win.cc",
    "global_shortcut_listener_win.h",
    "install_gate.h",
    "install_observer.cc",
    "install_observer.h",
    "install_signer.cc",
    "install_signer.h",
    "install_tracker.cc",
    "install_tracker.h",
    "install_tracker_factory.cc",
    "install_tracker_factory.h",
    "install_verifier.cc",
    "install_verifier.h",
    "install_verifier_factory.cc",
    "install_verifier_factory.h",
    "installed_loader.cc",
    "installed_loader.h",
    "launch_util.cc",
    "launch_util.h",
    "menu_manager.cc",
    "menu_manager.h",
    "menu_manager_factory.cc",
    "menu_manager_factory.h",
    "navigation_observer.cc",
    "navigation_observer.h",
    "ntp_overridden_bubble_delegate.cc",
    "ntp_overridden_bubble_delegate.h",
    "pack_extension_job.cc",
    "pack_extension_job.h",
    "pending_extension_info.cc",
    "pending_extension_info.h",
    "pending_extension_manager.cc",
    "pending_extension_manager.h",
    "permissions_based_management_policy_provider.cc",
    "permissions_based_management_policy_provider.h",
    "permissions_updater.cc",
    "permissions_updater.h",
    "plugin_manager.cc",
    "plugin_manager.h",
    "policy_extension_reinstaller.cc",
    "policy_extension_reinstaller.h",
    "policy_handlers.cc",
    "policy_handlers.h",
    "proxy_overridden_bubble_delegate.cc",
    "proxy_overridden_bubble_delegate.h",
    "scripting_permissions_modifier.cc",
    "scripting_permissions_modifier.h",
    "settings_api_bubble_delegate.cc",
    "settings_api_bubble_delegate.h",
    "settings_api_helpers.cc",
    "settings_api_helpers.h",
    "shared_module_service.cc",
    "shared_module_service.h",
    "shared_user_script_master.cc",
    "shared_user_script_master.h",
    "signin/gaia_auth_extension_loader.cc",
    "signin/gaia_auth_extension_loader.h",
    "signin/scoped_gaia_auth_extension.cc",
    "signin/scoped_gaia_auth_extension.h",
    "standard_management_policy_provider.cc",
    "standard_management_policy_provider.h",
    "startup_helper.cc",
    "startup_helper.h",
    "state_store_notification_observer.cc",
    "state_store_notification_observer.h",
    "suspicious_extension_bubble_delegate.cc",
    "suspicious_extension_bubble_delegate.h",
    "sync_bundle.cc",
    "sync_bundle.h",
    "tab_helper.cc",
    "tab_helper.h",
    "theme_installed_infobar_delegate.cc",
    "theme_installed_infobar_delegate.h",
    "unpacked_installer.cc",
    "unpacked_installer.h",
    "update_install_gate.cc",
    "update_install_gate.h",
    "updater/chrome_extension_downloader_factory.cc",
    "updater/chrome_extension_downloader_factory.h",
    "updater/chrome_update_client_config.cc",
    "updater/chrome_update_client_config.h",
    "updater/extension_updater.cc",
    "updater/extension_updater.h",
    "user_script_listener.cc",
    "user_script_listener.h",
    "warning_badge_service.cc",
    "warning_badge_service.h",
    "warning_badge_service_factory.cc",
    "warning_badge_service_factory.h",
    "webstore_data_fetcher.cc",
    "webstore_data_fetcher.h",
    "webstore_data_fetcher_delegate.cc",
    "webstore_data_fetcher_delegate.h",
    "webstore_inline_installer.cc",
    "webstore_inline_installer.h",
    "webstore_inline_installer_factory.cc",
    "webstore_inline_installer_factory.h",
    "webstore_install_helper.cc",
    "webstore_install_helper.h",
    "webstore_install_with_prompt.cc",
    "webstore_install_with_prompt.h",
    "webstore_installer.cc",
    "webstore_installer.h",
    "webstore_reinstaller.cc",
    "webstore_reinstaller.h",
    "webstore_standalone_installer.cc",
    "webstore_standalone_installer.h",
    "webstore_startup_installer.cc",
    "webstore_startup_installer.h",
    "window_controller.cc",
    "window_controller.h",
    "window_controller_list.cc",
    "window_controller_list.h",
    "window_controller_list_observer.h",
    "zipfile_installer.cc",
    "zipfile_installer.h",
  ]

  configs += [
    "//build/config:precompiled_headers",
    "//build/config/compiler:wexit_time_destructors",
  ]
  defines = []

  # Since browser and browser_extensions actually depend on each other,
  # we must omit the dependency from browser_extensions to browser.
  # However, this means browser_extensions and browser should more or less
  # have the same dependencies. Once browser_extensions is untangled from
  # browser, then we can clean up these dependencies.
  public_deps = [
    "//chrome/common/extensions/api",
    "//components/safe_browsing/db:util",
    "//content/public/browser",
  ]
  deps = [
    "//apps",
    "//chrome:extra_resources",
    "//chrome:resources",
    "//chrome:strings",
    "//chrome/app:command_ids",
    "//chrome/app/resources:platform_locale_settings",
    "//chrome/app/theme:chrome_unscaled_resources",
    "//chrome/app/theme:theme_resources",
    "//chrome/app/vector_icons",
    "//chrome/browser/devtools",
    "//chrome/browser/media/router",
    "//chrome/browser/media/router/discovery",
    "//chrome/browser/safe_browsing",
    "//chrome/common",
    "//chrome/common/extensions:mojo_bindings",
    "//chrome/common/extensions/api:api_registration",
    "//chrome/common/extensions/api:extensions_features",
    "//chrome/common/safe_browsing:proto",
    "//components/app_modal",
    "//components/autofill/content/browser",
    "//components/bookmarks/browser",
    "//components/bookmarks/managed",
    "//components/browser_sync",
    "//components/browsing_data/core",
    "//components/bubble",
    "//components/content_settings/core/browser",
    "//components/crx_file",
    "//components/cryptauth",
    "//components/data_reduction_proxy/core/browser",
    "//components/dom_distiller/core",
    "//components/download/content/public",
    "//components/drive",
    "//components/favicon/content",
    "//components/feedback",
    "//components/gcm_driver",
    "//components/guest_view/browser",
    "//components/history/core/browser",
    "//components/infobars/core",
    "//components/keyed_service/content",
    "//components/language/core/browser:browser",
    "//components/nacl/common:features",
    "//components/navigation_interception",
    "//components/net_log",
    "//components/omnibox/browser",
    "//components/onc",
    "//components/password_manager/core/browser",
    "//components/pdf/browser",
    "//components/policy:generated",
    "//components/policy/core/browser",
    "//components/pref_registry",
    "//components/proximity_auth",
    "//components/proximity_auth/logging",
    "//components/proxy_config",
    "//components/rappor",
    "//components/resources",
    "//components/safe_browsing/common:safe_browsing_prefs",
    "//components/safe_browsing/db:database_manager",
    "//components/safe_json",
    "//components/search_engines",
    "//components/sessions",
    "//components/signin/core/browser",
    "//components/spellcheck/browser",
    "//components/storage_monitor",
    "//components/strings",
    "//components/sync",
    "//components/sync_preferences",
    "//components/sync_sessions",
    "//components/translate/core/browser",
    "//components/undo",
    "//components/update_client",
    "//components/url_matcher",
    "//components/user_prefs",
    "//components/vector_icons",
    "//components/web_modal",
    "//components/zoom",
    "//content/app/resources",
    "//content/public/common",
    "//crypto",
    "//device/bluetooth",
    "//device/hid",
    "//extensions:extensions_resources",
    "//extensions/browser",
    "//extensions/browser/api:api_registration",
    "//extensions/common",
    "//extensions/common/api",
    "//extensions/features",
    "//extensions/strings",
    "//google_apis",
    "//media:media_features",
    "//net",
    "//ppapi/features",
    "//printing/features",
    "//rlz/features",
    "//services/identity/public/interfaces",
    "//services/service_manager/public/cpp",
    "//services/service_manager/public/interfaces",
    "//skia",
    "//sql",
    "//storage/browser",
    "//storage/common",
    "//third_party/WebKit/public:resources",
    "//third_party/WebKit/public:scaled_resources",
    "//third_party/cacheinvalidation",
    "//third_party/icu",
    "//third_party/leveldatabase",
    "//third_party/libaddressinput:util",
    "//third_party/re2",
    "//third_party/webrtc/modules/desktop_capture",
    "//third_party/zlib/google:zip",
    "//ui/accessibility:ax_gen",
    "//ui/base",
    "//ui/base/ime",
    "//ui/display/manager",
    "//ui/gfx",
    "//ui/gfx/geometry",
    "//ui/message_center",
    "//ui/message_center/public/cpp",
    "//ui/native_theme",
    "//ui/resources",
    "//ui/shell_dialogs",
    "//ui/strings",
    "//url",
  ]

  if (!is_chromeos) {
    sources += [ "chrome_kiosk_delegate.cc" ]
  }

  if (is_chromeos) {
    sources += [
      "api/certificate_provider/certificate_provider_api.cc",
      "api/certificate_provider/certificate_provider_api.h",
      "api/enterprise_device_attributes/enterprise_device_attributes_api.cc",
      "api/enterprise_device_attributes/enterprise_device_attributes_api.h",
      "api/enterprise_platform_keys/enterprise_platform_keys_api.cc",
      "api/enterprise_platform_keys/enterprise_platform_keys_api.h",
      "api/enterprise_platform_keys_private/enterprise_platform_keys_private_api.cc",
      "api/enterprise_platform_keys_private/enterprise_platform_keys_private_api.h",
      "api/file_system/consent_provider.cc",
      "api/file_system/consent_provider.h",
      "api/file_system/request_file_system_notification.cc",
      "api/file_system/request_file_system_notification.h",
      "api/input_ime/input_ime_api.cc",
      "api/input_ime/input_ime_api.h",
      "api/input_ime/input_ime_api_chromeos.cc",
      "api/input_ime/input_ime_api_chromeos.h",
      "api/input_ime/input_ime_event_router_base.cc",
      "api/input_ime/input_ime_event_router_base.h",
      "api/messaging/native_message_host_chromeos.cc",
      "api/networking_cast_private/chrome_networking_cast_private_delegate.cc",
      "api/networking_cast_private/chrome_networking_cast_private_delegate.h",
      "api/networking_cast_private/networking_cast_private_api.cc",
      "api/networking_cast_private/networking_cast_private_api.h",
      "api/platform_keys/platform_keys_api.cc",
      "api/platform_keys/platform_keys_api.h",
      "api/platform_keys/verify_trust_api.cc",
      "api/platform_keys/verify_trust_api.h",
      "api/terminal/terminal_extension_helper.cc",
      "api/terminal/terminal_extension_helper.h",
      "api/terminal/terminal_private_api.cc",
      "api/terminal/terminal_private_api.h",
      "api/virtual_keyboard_private/chrome_virtual_keyboard_delegate.cc",
      "api/virtual_keyboard_private/chrome_virtual_keyboard_delegate.h",
      "api/vpn_provider/vpn_service_factory.cc",
      "api/webstore_widget_private/app_installer.cc",
      "api/webstore_widget_private/app_installer.h",
      "api/webstore_widget_private/webstore_widget_private_api.cc",
      "api/webstore_widget_private/webstore_widget_private_api.h",
      "updater/chromeos_extension_cache_delegate.cc",
      "updater/chromeos_extension_cache_delegate.h",
      "updater/extension_cache_delegate.cc",
      "updater/extension_cache_delegate.h",
      "updater/extension_cache_impl.cc",
      "updater/extension_cache_impl.h",
      "updater/local_extension_cache.cc",
      "updater/local_extension_cache.h",
    ]

    sources -= [ "api/music_manager_private/device_id_linux.cc" ]
    if (use_dbus) {
      configs += [ "//build/config/linux/dbus" ]
    }
    deps += [
      "//ash",
      "//ash/public/cpp:ash_public_cpp",
      "//components/arc",
      "//components/chrome_apps",
      "//components/constrained_window",
      "//components/drive",
      "//components/user_manager",
      "//remoting/base",
      "//remoting/host",
      "//remoting/host/it2me:common",
      "//third_party/protobuf:protobuf_lite",
      "//ui/app_list",
      "//ui/chromeos",
      "//ui/chromeos/events",
      "//ui/file_manager",
      "//ui/ozone",
      "//ui/views",
    ]
    if (enable_nacl) {
      deps += [ "//chrome/browser/resources/chromeos/zip_archiver" ]
    }
  } else {
    sources += [
      "api/easy_unlock_private/easy_unlock_private_crypto_delegate_stub.cc",
      "api/image_writer_private/operation_nonchromeos.cc",
      "api/image_writer_private/removable_storage_provider_linux.cc",
      "api/messaging/native_message_process_host.cc",
      "api/messaging/native_message_process_host.h",
      "api/messaging/native_process_launcher.cc",
      "api/messaging/native_process_launcher.h",
      "api/messaging/native_process_launcher_posix.cc",
      "api/messaging/native_process_launcher_win.cc",
      "default_apps.cc",
      "default_apps.h",
    ]
  }

  if (use_x11) {
    sources += [
      "global_shortcut_listener_x11.cc",
      "global_shortcut_listener_x11.h",
    ]
  } else if (use_ozone) {
    sources += [
      "global_shortcut_listener_ozone.cc",
      "global_shortcut_listener_ozone.h",
    ]
  }

  if (is_linux) {
    deps += [ "//third_party/fontconfig" ]

    if (use_dbus) {
      deps += [ "//dbus" ]
    }
    if (use_udev) {
      deps += [ "//device/udev_linux" ]
    }

    if (use_x11) {
      configs += [ "//build/config/linux:x11" ]
      deps += [
        "//ui/events:events_base",
        "//ui/events/platform",
        "//ui/events/platform/x11",
      ]
    }
  }

  if (!is_android) {
    sources += [
      "api/processes/processes_api.cc",
      "api/processes/processes_api.h",
    ]
  }

  if (is_win || is_mac) {
    sources += [
      "api/networking_cast_private/chrome_networking_cast_private_delegate.cc",
      "api/networking_cast_private/chrome_networking_cast_private_delegate.h",
      "api/networking_cast_private/networking_cast_private_api.cc",
      "api/networking_cast_private/networking_cast_private_api.h",
      "api/networking_private/networking_private_credentials_getter.h",
      "api/networking_private/networking_private_credentials_getter_mac.cc",
      "api/networking_private/networking_private_credentials_getter_win.cc",
    ]
    deps += [ "//components/wifi" ]
  }

  if (is_win || is_mac || is_chromeos) {
    sources += [
      "api/networking_private/networking_private_crypto.cc",
      "api/networking_private/networking_private_crypto.h",
    ]

    # networking_private_crypto.cc depends on boringssl.
    public_deps += [ "//third_party/boringssl" ]
  }

  if (is_win) {
    deps += [
      "//third_party/iaccessible2",
      "//third_party/isimpledom",
    ]
  } else if (use_aura && !is_chromeos) {
    sources += [
      "display_info_provider_aura.cc",
      "display_info_provider_aura.h",
    ]
  }

  if (is_win || (is_linux && !is_chromeos)) {
    sources += [
      "api/input_ime/input_ime_api.cc",
      "api/input_ime/input_ime_api.h",
      "api/input_ime/input_ime_api_nonchromeos.cc",
      "api/input_ime/input_ime_api_nonchromeos.h",
      "api/input_ime/input_ime_event_router_base.cc",
      "api/input_ime/input_ime_event_router_base.h",
    ]
  }

  if (enable_app_list) {
    sources += [
      # TODO These references to files in //chrome/browser/ should either be
      # moved to the browser target or the files moved to this directory.
      "../apps/drive/drive_app_converter.cc",
      "../apps/drive/drive_app_converter.h",
      "../apps/drive/drive_app_mapping.cc",
      "../apps/drive/drive_app_mapping.h",
      "../apps/drive/drive_app_provider.cc",
      "../apps/drive/drive_app_provider.h",
      "../apps/drive/drive_app_uninstall_sync_service.h",
      "../apps/drive/drive_service_bridge.cc",
      "../apps/drive/drive_service_bridge.h",
      "api/launcher_page/launcher_page_api.cc",
      "api/launcher_page/launcher_page_api.h",
    ]
  }

  if (enable_hotwording) {
    defines += [ "ENABLE_HOTWORDING" ]
  }

  if (enable_service_discovery) {
    sources += [
      "api/mdns/mdns_api.cc",
      "api/mdns/mdns_api.h",
    ]
  }

  if (enable_rlz_support) {
    deps += [ "//rlz:rlz_lib" ]
  }

  if (enable_webrtc) {
    sources += [ "api/webrtc_logging_private/webrtc_logging_private_api.cc" ]
  } else {
    sources +=
        [ "api/webrtc_logging_private/webrtc_logging_private_api_stub.cc" ]
  }

  if (toolkit_views) {
    deps += [ "//ui/views" ]
  }

  if (use_aura) {
    deps += [
      "//ui/aura",
      "//ui/keyboard",
      "//ui/keyboard:keyboard_with_content",
      "//ui/keyboard:resources",
    ]
  }

  if (use_brlapi) {
    sources += [
      "api/braille_display_private/braille_controller_brlapi.cc",
      "api/braille_display_private/brlapi_connection.cc",
      "api/braille_display_private/brlapi_connection.h",
      "api/braille_display_private/brlapi_keycode_map.cc",
      "api/braille_display_private/brlapi_keycode_map.h",
    ]
    deps += [ "//build/linux/libbrlapi" ]
  } else {
    sources += [ "api/braille_display_private/braille_controller_stub.cc" ]
  }
}
